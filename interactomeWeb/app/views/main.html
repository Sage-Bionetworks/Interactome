
<!--Top Header holds the page title and logo -->
<div id="header"> 
  <div id="topBanner" class="page-header">
    <h1 id="logoHeader">Sage Bionetworks Interactome <small> Prototype </small><h1>
    </div>

  </div>
  <!-- userSearchPannel holds the search bar and filter --> 
  <div id="userSearchPanel">
    <div id="jumbotronBanner" class="jumbotron">
      <!--searchBar code --> 
      <div class="searchForm" ng-controller="mainController">
        <input id="searchBar" type="text" placeholder="Search i.e. author, title, keywords" ng-model="newSearchHistory"/>
        <!--searchButton --> 
        <button id="searchButton" type="button" class="btn btn-primary" >Search</button>
        <!-- bookmarksDropDown holds the user bookmark history, operates as a dropDown --> 
        <div id="bookmarksDropDown" class="btn-group dropdown">
          <button type="button" class="btn dropdown-toggle btn-primary" data-toggle="dropdown" onclick="testAWS()" href="#">
            Saved Papers <span class="caret"></span>
          </button>
          <ul id="dropDownMenu" class="dropdown-menu">
            <li><a href="#searching">Folder 1</a></li>
            <li><a href="#/view2">Different Template</a></li>
            <li><a href="#">Folder 3</a></li>
            <li><a href="#">Folder 4</a></li>
          </ul>

        </div>
      </div>
      <br></br>

      <!--Google+ Signin button -->
      <span
        class="g-signin"
        data-callback="signinCallback" // This will call the script which will connect to AWS
        data-clientid="796741862543.apps.googleusercontent.com" // This is the ID of our app(this may change)
        data-cookiepolicy="single_host_origin"
        data-requestvisibleactions="http://schemas.google.com/AddActivity"
        data-scope="https://www.googleapis.com/auth/plus.login">
      </span>

    </div>
    <div id="recAndSearchTable" >
  
      <table class="table table-striped table-hover">
        <thead>
          <tr>
           <th>Title</th>

            <th> Author</th>
          </tr>
        </thead>
      </table>
    </div>
  </div>
</div>

<script>
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/client:plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>

<!-- Google script -->

<script>
  function signinCallback(authResult) {
  // authResult is the object returned from the Google button
    if (authResult['status']['signed_in']) {
      console.log("id token: " + authResult['id_token'])
      // Update the app to reflect a signed in user
      // Hide the sign-in button now that the user is authorized, for example:
      document.getElementById('signinButton').setAttribute('style', 'display: none');

      AWS.config.credentials = new AWS.WebIdentityCredentials({
      RoleArn: 'arn:aws:iam::005837367462:role/newRole', // This is the name of the role that gives user access
      RoleSessionName: 'sage-App',
      WebIdentityToken: authResult['id_token'] // This is the access token that is generated by Google
     });

      AWS.config.region = 'us-west-2'; // To configure the region

      // Query Tables and such
    } else {
  // Update the app to reflect a signed out user
  // Possible error values:
  //   "user_signed_out" - User is signed-out
  //   "access_denied" - User denied access to your app
  //   "immediate_failed" - Could not automatically log in the user
   console.log('Sign-in state: ' + authResult['error']);
   }
  }

</script>
